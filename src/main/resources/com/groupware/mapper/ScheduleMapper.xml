<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.groupware.mapper.ScheduleMapper">
  	<resultMap type="com.groupware.dto.Schedule$ScheduleDTO" id="ScheduleListMap">
		<result property="scheduleIdx" column="SCHEDULE_IDX"/>
		<result property="employeeIdx" column="EMPLOYEE_IDX"/>
		<result property="title" column="TITLE"/>
		<result property="content" column="CONTENT"/>
		<result property="insDate" column="INS_DATE"/>
		<result property="updDate" column="UPD_DATE"/>
		<result property="startDate" column="START_DATE"/>
		<result property="endDate" column="END_DATE"/>
		<result property="state" column="STATE"/>
		<result property="name" column="NAME"/>
		<result property="location" column="LOCATION"/>
		<result property="place" column="PLACE"/>
		<result property="file" column="FILE"/>
		<result property="participant" column="PARTICPANT"/>
	</resultMap>
	
	<select id="selectList" resultMap="ScheduleListMap">
		SELECT
			*
		FROM schedule
	</select>
	
	<insert id="modify">
		<selectKey keyProperty="scheduleIdx" order="BEFORE" resultType="long">
  			SELECT SCHEDULE_SEQ.nextval FROM dual
  		</selectKey>
		INSERT INTO SCHEDULE (NAME, SCHEDULE_IDX, EMPLOYEE_IDX, TITLE, CONTENT, 
			"FILE", INS_DATE, UPD_DATE, STATE, PARTICIPANT,
			 PLACE, LOCATION, START_DATE, END_DATE) 
		VALUES(#{name}, #{scheduleIdx}, #{employeeIdx}, #{title}, #{content},
			 #{file}, sysdate , sysdate , 0, #{participant},
			  #{palce}, #{location}, #{startDate}, #{endDate})
	</insert>
	
</mapper>